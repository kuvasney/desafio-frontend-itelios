function configRequest(){xhr.open("GET","produtos.json",!0),xhr.send()}function processRequest(a){if(4==xhr.readyState&&200==xhr.status){var b=JSON.parse(xhr.responseText),c=b[0].data,d=c.recommendation,e=c.reference.item;fillRecommendation(d,"#recommendation_wrap"),fillRecommendation(e,"#reference_wrap")}}function fillRecommendation(a,b){if("undefined"!=typeof a&&null!=a){var c=document.querySelector(b),d=a.length,e="",f='<div class="product">\t<div class="product-boxImg">\t\t<img src="HTML_PRODIMAGE" alt="HTML_PRODNAME" class="prodImg">\t</div>\t<h2 class="prodName">HTML_PRODNAME</h2>\t<p class="prodPrice">Por: <span class="price">HTML_PRODPRICE</span></p>\t\t<p class="prodPrice">ou <span class="priceCondition">HTML_PRODPRICONDITION</span> sem juros</p>\t\t<div class="prodBuyHolder"><a href="HTML_PRODURL" class="prodBuy"><span>adicionar ao carrinho</span> <i class="icon-cart-plus"></i></a></div>\t</div>';if(c.classList.add("preload"),a.length>0){for(var g=0;g<d;g++){var h=a[g].productInfo.paymentConditions.replace(".",",").replace("ou","").replace("X","x").replace("de","de R$");productName=a[g].name,productName.length>85&&(productName=productName.substring(0,85)+"..."),e+=f.replace(/HTML_PRODIMAGE/g,a[g].imageName).replace(/HTML_PRODNAME/g,productName).replace(/HTML_PRODPRICE/g,a[g].price).replace(/HTML_PRODPRICONDITION/g,h).replace(/HTML_PRODURL/g,a[g].detailUrl)}c.innerHTML=e,carousel("carrousel")}else{var h=a.productInfo.paymentConditions.replace(".",",").replace("ou","").replace("X","x").replace("de","de R$");productName=a.name,productName.length>85&&(productName=productName.substring(0,85)+"..."),e+=f.replace(/HTML_PRODIMAGE/g,a.imageName).replace(/HTML_PRODNAME/g,productName).replace(/HTML_PRODPRICE/g,a.price).replace(/HTML_PRODPRICONDITION/g,h).replace(/HTML_PRODURL/g,a.detailUrl),c.innerHTML=e}c.classList.remove("preload")}}function carousel(a){function h(){for(var a=0;a<d.length;a++)if(a%g==0){var b=document.createElement("a");b.setAttribute("data-multiplier",a),b.setAttribute("class","bull"),f.appendChild(b)}i()}function i(){var a=document.querySelectorAll(".bull");a[0].setAttribute("class",a[0].getAttribute("class")+" on");for(var b=0;b<a.length;b++)a[b].addEventListener("click",function(a){var b=this.getAttribute("data-multiplier");m=parseInt(b),c.style.marginLeft=""+e*m*-1+"px";var d=document.querySelectorAll(".bull");[].forEach.call(d,function(a){a.classList.remove("on")}),this.setAttribute("class",this.getAttribute("class")+" on"),a.preventDefault()})}var g,b=document.querySelector("."+a),c=document.querySelector(".carrousel_wrap"),d=b.getElementsByClassName("product"),e=d[0].offsetWidth,f=document.createElement("div");g=isDesktop?3:1,f.className="bullswrap",isDesktop?f.style.width=e*g+"px":f.style.width="100%",console.log(d.length),b.appendChild(f),c.style.width=d.length*e+"px",h()}var xhr=new XMLHttpRequest,mq=window.matchMedia("(min-width: 1019px)");mq.matches?isDesktop=!0:isDesktop=!1,function(){try{configRequest(),xhr.onreadystatechange=processRequest}catch(a){alert("Arquivo   : "+a.fileName+" \n Linha     : "+a.lineNumber+" \n Nome      : "+a.name+" \n Descrição : "+a.message)}}();